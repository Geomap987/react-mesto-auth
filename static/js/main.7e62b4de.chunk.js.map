{"version":3,"sources":["images/logo.svg","images/Blackcheck.svg","images/Redcross.svg","utils/token.js","utils/auth.js","components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/PopupWithImage.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","contexts/UserDataContext.js","components/Mesto.js","components/ProtectedRoute.js","components/InfoToolTip.js","components/Register.js","components/Login.js","contexts/CardContext.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","setToken","token","localStorage","setItem","BASE_URL","Header","userEmail","buttonLink","handleClick","buttonText","className","src","logo","alt","to","onClick","Card","title","link","likesNumber","onCardClick","item","isOwn","isLiked","onCardLike","onCardDelete","type","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","avatar","onEditAvatar","name","onEditProfile","about","openAddPlace","cards","map","card","likes","some","i","_id","owner","key","length","mainCardClick","Footer","PopupWithForm","isOpen","onClose","children","onSubmit","id","noValidate","PopupWithImage","image","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","pattern","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","linkRef","titleR","titleRef","api","address","groupId","this","_address","_token","_groupId","Promise","all","getUserInfo","getCardList","fetch","headers","authorization","then","res","ok","json","reject","status","method","body","JSON","stringify","cardId","methodValue","UserDataContext","Mesto","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","userData","closeAllPopups","catch","err","console","log","history","useHistory","email","removeItem","push","deleteCard","newCard","newCards","filter","c","likeCard","a","editUserInfo","editUserAvatar","createCard","ProtectedRoute","Component","component","loggedIn","InfoToolTip","Register","password","data","setData","message","setMessage","isInfoToolTipOpen","setInfoToolTipOpen","handleChange","prevData","response","auth","check","Login","handleLogin","username","handleInfoToolTip","cross","CardContext","App","setLoggedIn","setUserData","tokenCheck","jwt","getItem","Provider","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.7e62b4de.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/Blackcheck.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Redcross.4072126c.svg\";","const TOKEN_KEY = 'jwt';\r\n\r\nexport const setToken = (token) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n}\r\n\r\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY)\r\n}\r\n","import { setToken } from './token';\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then((response) => {\r\n      return response\r\n    }).catch(err => console.log(err))\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then((response => response.json()))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        setToken(data.token);\r\n        return data;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(res => res.json()).catch(err => console.log(err))\r\n}\r\n","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Header({ userEmail, buttonLink, handleClick, buttonText }) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип Место. Россия\" />\r\n            <div className=\"header__container\">\r\n                <p className=\"header__email\">{userEmail}</p>\r\n                <Link to={buttonLink} className=\"header__button\" onClick={handleClick}>{buttonText}</Link>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Card({ title, link, likesNumber, onCardClick, item, isOwn, isLiked, onCardLike, onCardDelete}) {\r\n    function handleClick() {\r\n        onCardClick(item);\r\n    }\r\n    function handleLikeClick() {\r\n        onCardLike(item);\r\n    }\r\n    function handleDeleteClick() {\r\n        onCardDelete(item);\r\n    }\r\n\r\n    return (\r\n        <article className=\"photo-grid__card\">\r\n            <img className=\"photo-grid__photo\" src={link} alt={title} onClick={handleClick} />\r\n            <button onClick={handleDeleteClick} className={isOwn ? \"photo-grid__delete-icon\" : \"photo-grid__delete-icon_none\"}></button>\r\n            <div className=\"photo-grid__text\">\r\n                <h3 className=\"photo-grid__title\">{title}</h3>\r\n                <div className=\"photo-grid__like-wrapper\">\r\n                    <button onClick={handleLikeClick} type=\"button\" className={isLiked ? \"photo-grid__like-icon_active\" : \"photo-grid__like-icon\"} />\r\n                    <h4 className=\"photo-grid__like-counter\">{likesNumber}</h4>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__wrapper\">\r\n                    <div className=\"profile__photo-wrapper\">\r\n                        <img className=\"profile__photo\" src={currentUser.avatar} alt=\"Фотография профиля\" />\r\n                        <div onClick={props.onEditAvatar} className=\"profile__edit-pen\"></div>\r\n                    </div>\r\n                    <div className=\"profile__text-container\">\r\n                        <div className=\"profile__button-wrapper\">\r\n                            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button\" ></button>\r\n                        </div>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button onClick={props.openAddPlace} type=\"button\" className=\"profile__add-button\"></button>\r\n            </section>\r\n            <section className=\"photo-grid\">\r\n                <div className=\"photo-grid__container\">\r\n                    {props.cards.map(card => <Card onCardDelete={props.onCardDelete} onCardLike={props.onCardLike} isLiked={card.likes.some(i => i._id === currentUser._id)} isOwn={card.owner._id === currentUser._id} key={card._id} title={card.name} link={card.link} likesNumber={card.likes.length} onCardClick={props.mainCardClick} item={card} />)}\r\n                </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020. Мария Васильева</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nconst PopupWithForm = ({ title, name, isOpen, onClose, children, onSubmit, buttonText }) => (\r\n\r\n    <section className={isOpen ? `popup popup-${name} popup_opened` : `popup popup-${name}`}>\r\n        <form id={`${name}form`} name={`${name}form`} className={`popup__container popup__container_${name}`} onSubmit={onSubmit} noValidate>\r\n            <button type=\"button\" onClick={onClose} id={`${name}button`} className=\"popup__close-button\"></button>\r\n            <h3 className=\"popup__title\">{title}</h3>\r\n            {children}\r\n            <button type=\"submit\" id=\"submit-button\" className={`popup__submit-button popup-${name}__submit-button`}>{buttonText}</button>\r\n        </form>\r\n    </section >\r\n)\r\n\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction PopupWithImage({ onClose, isOpen, image, title }) {\r\n    return (\r\n        <section id=\"bigphotopopup\" className={isOpen ? `popup popup-bigphotopopup popup_opened` : `popup popup-bigphotopopup`}>\r\n            <div className=\"popup__bigphoto-container \">\r\n                <button onClick={onClose} type=\"button\" id=\"bigphotobutton\" className=\"popup__close-button\"></button>\r\n                <img src={image} className=\"popup__bigphoto-image\" alt={title} />\r\n                <p className=\"popup__bigphoto-subtitle\">{title}</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithImage;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} onClose={onClose} isOpen={isOpen} name={`profile`} title={`Редактировать профиль`} buttonText={`Сохранить`}>\r\n      <input onChange={handleName} type=\"text\" id=\"profilename\" name=\"name\" placeholder=\"Имя\" value={name} className=\"popup__input popup__input_title\" pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+\" minLength=\"2\" maxLength=\"40\" required />\r\n      <span className=\"popup__input-error\" id=\"profilename-error\"></span>\r\n      <input onChange={handleDescription} type=\"text\" id=\"profilejob\" name=\"about\" placeholder=\"Занятие\" value={description} className=\"popup__input popup__input_subtitle\" minLength=\"2\" maxLength=\"200\" required />\r\n      <span className='popup__input-error' id=\"profilejob-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} onClose={onClose} isOpen={isOpen} name={`avatar`} title={`Обновить аватар`} buttonText={`Сохранить`}>\r\n      <input ref={avatarRef} type=\"url\" id=\"avatarlink\" name=\"avatar\" placeholder=\"Ссылка на аватар\" className=\"popup__input popup__input_avatar\" required />\r\n      <span className='popup__input-error' id=\"avatarlink-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, titleR }) {\r\n    const linkRef = React.useRef();\r\n    const titleRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: titleRef.current.value,\r\n            link: linkRef.current.value\r\n        });\r\n        \r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} onClose={onClose} isOpen={isOpen} name={`addphoto`} title={`Новое место`} buttonText={`Создать`}>\r\n            <input ref={titleRef} type=\"text\" id=\"photoplace\" name=\"name\" placeholder=\"Название\" className=\"popup__input popup__input_title\" pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\d\\-]+\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span className='popup__input-error' id=\"photoplace-error\"></span>\r\n            <input ref={linkRef} type=\"url\" id=\"photolink\" name=\"link\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_subtitle\" required />\r\n            <span className='popup__input-error' id=\"photolink-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n  constructor({ address, token, groupId }) {\r\n    this._address = address;\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n  }\r\n\r\n  getInitialInfo() {\r\n    return Promise.all([this.getUserInfo(), this.getCardList()]);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  editUserInfo({ name, about }) {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ name, about }),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  editUserAvatar({ avatar }) {\r\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ avatar }),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  createCard({ name, link }) {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n\r\n  likeCard(cardId, isLiked) {\r\n    let methodValue;\r\n    isLiked ? (methodValue = \"DELETE\") : (methodValue = \"PUT\");\r\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n      method: methodValue,\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) =>\r\n      res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    );\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1\",\r\n  token: \"3a4b08db-7c45-4ccb-8ab5-c20c75737af9\",\r\n  groupId: \"cohort-14\",\r\n});\r\n","import React from 'react';\r\n\r\nexport const UserDataContext = React.createContext();","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport Header from './Header.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport PopupWithImage from './PopupWithImage.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport { api } from '../utils/Api.js';\r\nimport { UserDataContext } from '../contexts/UserDataContext';\r\nimport { removeToken } from '../utils/token';\r\n\r\nconst Mesto = (props) => {\r\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState({ title: '', link: '' });\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n    const [cards, setCards] = React.useState([]);\r\n    const userData = React.useContext(UserDataContext);\r\n\r\n    useEffect(() => {\r\n        api.getUserInfo().then(\r\n            (res) => {\r\n                const info = res;\r\n                setCurrentUser(info)\r\n            }).catch((err) => console.log(err));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        api.getCardList().then(\r\n            (res) => {\r\n                const items = res\r\n                setCards(items)\r\n            }).catch((err) => console.log(err));\r\n    }, [])\r\n\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.likeCard(card._id, isLiked).then((newCard) => {\r\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n            setCards(newCards);\r\n        }).catch((err) => console.log(err));\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id).then((newCard) => {\r\n            const newCards = cards.filter((c) => c._id !== card._id);\r\n            setCards(newCards);\r\n        }).catch((err) => console.log(err));\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setEditAvatarPopupOpen(!isEditAvatarPopupOpen)\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setEditProfilePopupOpen(!isEditProfilePopupOpen)\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setAddPlacePopupOpen(!isAddPlacePopupOpen)\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card)\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setEditAvatarPopupOpen(false)\r\n        setEditProfilePopupOpen(false)\r\n        setAddPlacePopupOpen(false)\r\n        setSelectedCard({ title: '', link: '' })\r\n\r\n    }\r\n\r\n    function handleUpdateUser(a) {\r\n        api.editUserInfo(a).then(\r\n            (res) => {\r\n                const info = res;\r\n                setCurrentUser(info)\r\n                closeAllPopups()\r\n            }).catch((err) => console.log(err));\r\n\r\n    }\r\n\r\n    function handleUpdateAvatar(a) {\r\n        api.editUserAvatar(a).then(\r\n            (res) => {\r\n                const info = res;\r\n                setCurrentUser(info)\r\n                closeAllPopups()\r\n            }).catch((err) => console.log(err));\r\n    }\r\n\r\n    function handleAddPlaceSubmit(a) {\r\n        api.createCard(a).then(\r\n            (newCard) => {\r\n                setCards([...cards, newCard])\r\n                closeAllPopups()\r\n            }).catch((err) => console.log(err));\r\n    }\r\n\r\n    const history = useHistory();\r\n    function signOut() {\r\n        removeToken();\r\n        history.push('/sign-in');\r\n    }\r\n    return (\r\n        <div className=\"page\">\r\n            <Header userEmail={userData.email} buttonLink={`/sign-in`} buttonText={`Выйти`} onClick={signOut} />\r\n            <Main\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                openAddPlace={handleAddPlaceClick}\r\n                mainCardClick={handleCardClick}\r\n                onCardDelete={handleCardDelete}\r\n                onCardLike={handleCardLike}\r\n                cards={cards}\r\n            />\r\n            <Footer />\r\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n            <AddPlacePopup titleR={''} onClose={closeAllPopups} isOpen={isAddPlacePopupOpen} onAddPlace={handleAddPlaceSubmit} />\r\n            <PopupWithForm name={`confirm`} title={`Вы уверены?`} buttonText={`Да`} />\r\n            <PopupWithImage onClose={closeAllPopups} isOpen={selectedCard.link} image={selectedCard.link} title={selectedCard.name} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mesto;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\n\r\nfunction InfoToolTip({ onClose, isOpen, image, title }) {\r\n    return (\r\n        <section className={isOpen ? `popup popup_opened` : `popup`}>\r\n            <div className=\"popup__container \">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-button\"></button>\r\n                <img src={image} className=\"popup__image\" alt={title} />\r\n                <p className=\"popup__subtitle\">{title}</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default InfoToolTip;","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport InfoToolTip from './InfoToolTip.js';\r\nimport check from '../images/Blackcheck.svg';\r\nimport * as auth from '../utils/auth.js';\r\n\r\nconst Register = () => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [message, setMessage] = useState('');\r\n  const history = useHistory();\r\n  const [isInfoToolTipOpen, setInfoToolTipOpen] = React.useState(false);\r\n\r\n\r\n\r\n  function handleInfoToolTip() {\r\n    setInfoToolTipOpen(!isInfoToolTipOpen)\r\n  }\r\n\r\n  function closeInfoToolTipPush() {\r\n    setInfoToolTipOpen(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    auth.register(password, email).then((res) => {\r\n      console.log(res.status)\r\n      if (res.status !== 400) {\r\n        handleInfoToolTip();\r\n\r\n      } else {\r\n        setMessage('Что-то пошло не так!');\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"register\">\r\n\r\n      <p className=\"register__welcome\">\r\n        Регистрация\r\n        </p>\r\n      <p className=\"register__error\">\r\n        {message}\r\n      </p>\r\n      <form onSubmit={handleSubmit} className=\"register__form\">\r\n        <input className=\"register__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} placeholder=\"Email\" />\r\n        <input className=\"register__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} placeholder=\"Пароль\" />\r\n        <div className=\"register__button-container\">\r\n          <button type=\"submit\" className=\"register__link\">Зарегистрироваться</button>\r\n        </div>\r\n      </form>\r\n      <div className=\"register__signin\">\r\n        <p>Уже зарегистрированы?</p>\r\n        <Link to=\"/sign-in\" className=\"register__login-link\">Войти</Link>\r\n      </div>\r\n      <InfoToolTip title={'Вы успешно зарегистрировались!'} image={check} isOpen={isInfoToolTipOpen} onClose={closeInfoToolTipPush}></InfoToolTip>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { setToken } from '../utils/token';\r\nimport * as auth from '../utils/auth.js';\r\nimport InfoToolTip from './InfoToolTip.js';\r\nimport cross from '../images/Redcross.svg';\r\n\r\nconst Login = ({ handleLogin }) => {\r\n    const [data, setData] = useState({\r\n        username: '',\r\n        password: '',\r\n    });\r\n\r\n    const [message, setMessage] = useState('');\r\n    const [isInfoToolTipOpen, setInfoToolTipOpen] = React.useState(false);\r\n    const history = useHistory();\r\n\r\n    function handleInfoToolTip() {\r\n        setInfoToolTipOpen(!isInfoToolTipOpen)\r\n    }\r\n\r\n    function closeInfoToolTip() {\r\n        setInfoToolTipOpen(false)\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value,\r\n        }));\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { password, username } = data;\r\n\r\n        if (!password || !username) {\r\n            return;\r\n        }\r\n\r\n        auth.authorize(password, username)\r\n            .then((data) => {\r\n                console.log(data)\r\n                if (!data) {\r\n                    setMessage('Что-то пошло не так! Попробуйте еще раз.')\r\n                    handleInfoToolTip()\r\n                }\r\n                else {\r\n                    setToken(data.token);\r\n                    setData({ password: '', username: '' });\r\n                    setMessage('');\r\n                    handleLogin(data.token);\r\n                    history.push('/mesto-react');\r\n                }\r\n            })\r\n            .catch(err => { console.log(err); handleInfoToolTip() });\r\n    }\r\n\r\n    return (\r\n        <div onSubmit={handleSubmit} className=\"login\">\r\n\r\n            <p className=\"login__welcome\">\r\n                Вход\r\n            </p>\r\n            <form className=\"login__form\">\r\n                <input className=\"login__input\" id=\"username\" required name=\"username\" type=\"text\" value={data.username} onChange={handleChange} placeholder=\"Email\" />\r\n                <input className=\"login__input\" id=\"password\" required name=\"password\" type=\"password\" value={data.password} onChange={handleChange} placeholder=\"Пароль\" />\r\n                <div className=\"login__button-container\">\r\n                    <button type=\"submit\" className=\"login__link\">Войти</button>\r\n                </div>\r\n            </form>\r\n            <div className=\"login__signup\">\r\n                <p>Ещё не зарегистрированы?</p>\r\n                <Link to=\"/sign-up\" className=\"signup__link\">Зарегистрироваться</Link>\r\n            </div>\r\n            <InfoToolTip title={message} image={cross} isOpen={isInfoToolTipOpen} onClose={closeInfoToolTip} ></InfoToolTip>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nexport const CardContext = React.createContext();","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport * as auth from '../utils/auth.js';\nimport { getToken } from '../utils/token';\n\nimport Header from './Header.js';\nimport Mesto from './Mesto.js';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register.js';\nimport Login from './Login.js';\n\nimport { api } from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { CardContext } from '../contexts/CardContext';\nimport { UserDataContext } from '../contexts/UserDataContext';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState();\n  const history = useHistory();\n\n  const handleLogin = () => {\n    tokenCheck();\n  }\n\n  const tokenCheck = () => {\n    const jwt = getToken();\n    if (!jwt) {\n      return;\n    }\n    auth.getContent(jwt).then((res) => {\n      if (res) {\n        const userData = {\n          email: res.data.email\n        }\n        setLoggedIn(true);\n        setUserData(userData);\n        history.push('/mesto-react')\n      }\n    });\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  useEffect(() => {\n    api.getUserInfo().then(\n      (res) => {\n        const info = res;\n        setCurrentUser(info)\n      }).catch((err) => console.log(err));\n  }, [])\n\n  useEffect(() => {\n    api.getCardList().then(\n      (res) => {\n        const items = res\n        setCards(items)\n      }).catch((err) => console.log(err));\n  }, [])\n\n  return (\n    <UserDataContext.Provider value={userData}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <CardContext.Provider value={cards}>\n          <Switch>\n            <ProtectedRoute path=\"/mesto-react\" loggedIn={loggedIn} component={Mesto} />\n            <Route path=\"/sign-up\">\n              <div className=\"page\">\n                <Header userEmail={``} buttonLink={`/sign-in`} buttonText={`Войти`} />\n                <Register />\n              </div>\n            </Route>\n            <Route path=\"/sign-in\">\n              <div className=\"page\">\n                <Header userEmail={``} buttonLink={`/sign-up`} buttonText={`Регистрация`} />\n                <Login handleLogin={handleLogin} />\n              </div>\n            </Route>\n            <Route path=\"/mesto-react\">\n              <Mesto />\n            </Route>\n          </Switch>\n        </CardContext.Provider>\n      </CurrentUserContext.Provider>\n    </UserDataContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}